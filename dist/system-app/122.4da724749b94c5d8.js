"use strict";(self.webpackChunksystem_app=self.webpackChunksystem_app||[]).push([[122],{3122:(Y,b,d)=>{d.r(b),d.d(b,{AdminModule:()=>L});var p=d(177),c=d(7679),a=d(4341),e=d(4438);let j=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-footer"]],decls:2,vars:0,template:function(n,r){1&n&&(e.j41(0,"p"),e.EFF(1,"footer works!"),e.k0s())}})}return o})(),E=(()=>{class o{constructor(){this.title="Logo"}ngOnInit(){console.info("HeaderComponent ngOnInit")}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-header"]],decls:48,vars:1,consts:[[1,"navbar","navbar-expand-lg","bg-body-tertiary"],[1,"container-fluid"],["href","admin",1,"navbar-brand"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarSupportedContent","aria-controls","navbarSupportedContent","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarSupportedContent",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-lg-0"],["routerLinkActive","active",1,"nav-item"],["aria-current","page","href","#",1,"nav-link"],["aria-current","page","routerLink","/admin/rol",1,"nav-link","active"],["aria-current","page","routerLink","/admin/user",1,"nav-link","active"],[1,"nav-item"],["href","#",1,"nav-link"],[1,"nav-item","dropdown"],["href","#","role","button","data-bs-toggle","dropdown","aria-expanded","false",1,"nav-link","dropdown-toggle"],[1,"dropdown-menu"],["href","#",1,"dropdown-item"],[1,"dropdown-divider"],["role","search",1,"d-flex"],["type","search","placeholder","Search","aria-label","Search",1,"form-control","me-2"],["type","submit",1,"btn","btn-outline-success"]],template:function(n,r){1&n&&(e.j41(0,"nav",0)(1,"div",1)(2,"a",2),e.EFF(3),e.k0s(),e.j41(4,"button",3),e.nrm(5,"span",4),e.k0s(),e.j41(6,"div",5)(7,"ul",6)(8,"li",7)(9,"a",8),e.EFF(10,"Inicio"),e.k0s()(),e.j41(11,"li",7)(12,"a",9),e.EFF(13,"Roles"),e.k0s()(),e.j41(14,"li",7)(15,"a",10),e.EFF(16,"Usuarios"),e.k0s()(),e.j41(17,"li",11)(18,"a",12),e.EFF(19,"Obras"),e.k0s()(),e.j41(20,"li",11)(21,"a",12),e.EFF(22,"Partituras"),e.k0s()(),e.j41(23,"li",11)(24,"a",12),e.EFF(25,"ShopCart"),e.k0s()(),e.j41(26,"li",11)(27,"a",12),e.EFF(28,"Link"),e.k0s()(),e.j41(29,"li",13)(30,"a",14),e.EFF(31," Men\xfa "),e.k0s(),e.j41(32,"ul",15)(33,"li")(34,"a",16),e.EFF(35,"Action"),e.k0s()(),e.j41(36,"li")(37,"a",16),e.EFF(38,"Another action"),e.k0s()(),e.j41(39,"li"),e.nrm(40,"hr",17),e.k0s(),e.j41(41,"li")(42,"a",16),e.EFF(43,"Something else here"),e.k0s()()()()(),e.j41(44,"form",18),e.nrm(45,"input",19),e.j41(46,"button",20),e.EFF(47,"Search"),e.k0s()()()()()),2&n&&(e.R7$(3),e.JRh(r.title))},dependencies:[c.Wk,c.wQ,a.qT,a.cb,a.cV]})}return o})(),k=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-navbar"]],decls:2,vars:0,template:function(n,r){1&n&&(e.j41(0,"p"),e.EFF(1,"navbar works!"),e.k0s())}})}return o})(),v=(()=>{class o{ngOnInit(){console.info("DashboardComponent ngOnInit")}static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-dashboard"]],decls:7,vars:0,consts:[[1,"row"]],template:function(n,r){1&n&&(e.j41(0,"div",0)(1,"h1"),e.EFF(2,"dashboard.component.html"),e.k0s(),e.nrm(3,"app-header")(4,"app-navbar")(5,"router-outlet")(6,"app-footer"),e.k0s())},dependencies:[c.n3,j,E,k]})}return o})();var y=d(8032),l=d.n(y),h=d(1626);let f=(()=>{class o{constructor(t){this.http=t,this.urlEndPoint="http://localhost:8081/system/apiv1/rol",this.httpHeaders=new h.Lr({"Content-Type":"application/json"})}getRoles(){return this.http.get(`${this.urlEndPoint}`,{observe:"response"})}crearRol(t){return this.http.post(this.urlEndPoint,t,{headers:this.httpHeaders,observe:"response"})}obtenerRol(t){return this.http.get(`${this.urlEndPoint}/${t}`,{observe:"response"})}actualizarRol(t){return this.http.put(`${this.urlEndPoint}/${t.id}`,t,{headers:this.httpHeaders,observe:"response"})}eliminarRol(t){return this.http.delete(`${this.urlEndPoint}/${t}`,{observe:"response"})}static#e=this.\u0275fac=function(n){return new(n||o)(e.KVO(h.Qq))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const R=()=>["/admin/rol/form"],C=o=>["/admin/rol/form",o];function M(o,u){if(1&o){const t=e.RV6();e.j41(0,"tr")(1,"th"),e.EFF(2),e.k0s(),e.j41(3,"th"),e.EFF(4),e.nI1(5,"date"),e.k0s(),e.j41(6,"th"),e.EFF(7),e.nI1(8,"date"),e.k0s(),e.j41(9,"th"),e.EFF(10),e.k0s(),e.j41(11,"th"),e.EFF(12),e.k0s(),e.j41(13,"th")(14,"button",7),e.EFF(15,"Editar"),e.k0s()(),e.j41(16,"th")(17,"button",8),e.bIt("click",function(){const r=e.eBV(t).$implicit,i=e.XpG(2);return e.Njj(i.eliminarRol(r))}),e.EFF(18,"Eliminar"),e.k0s()()()}if(2&o){const t=u.$implicit;e.R7$(2),e.JRh(t.rol),e.R7$(2),e.JRh(e.i5U(5,6,t.createdAt,"dd/MM/yyyy HH:mm:ss")),e.R7$(3),e.JRh(e.i5U(8,9,t.modifiedAt,"dd/MM/yyyy HH:mm:ss")),e.R7$(3),e.JRh(t.createdBy),e.R7$(2),e.JRh(t.modifiedBy),e.R7$(2),e.Y8G("routerLink",e.eq3(12,C,t.id))}}function U(o,u){if(1&o&&(e.j41(0,"table",3)(1,"thead")(2,"tr")(3,"th",4),e.EFF(4,"Rol"),e.k0s(),e.j41(5,"th",4),e.EFF(6,"Creado"),e.k0s(),e.j41(7,"th",4),e.EFF(8,"Modificado"),e.k0s(),e.j41(9,"th",4),e.EFF(10,"Creado Por"),e.k0s(),e.j41(11,"th",4),e.EFF(12,"Modificado Por"),e.k0s(),e.j41(13,"th",4),e.EFF(14,"Acciones"),e.k0s(),e.j41(15,"th",4),e.EFF(16,"Acciones"),e.k0s()()(),e.j41(17,"tbody",5),e.DNE(18,M,19,14,"tr",6),e.k0s()()),2&o){const t=e.XpG();e.R7$(18),e.Y8G("ngForOf",t.roles)}}let $=(()=>{class o{constructor(t){this.rolService=t,this.roles=[]}ngOnInit(){console.info("RolesComponent ngOnInit"),this.rolService.getRoles().subscribe(t=>{null!=t.body?(console.info("Avemus Datiux"),this.roles=t.body):console.error("El cuerpo de la respuesta es nulo.")},t=>{l().fire("Mensaje: ",`${t.error.mensaje}`,"warning"),console.error("Error al obtener los roles: ",t)})}eliminarRol(t){const n=l().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});n.fire({title:"\xbfEst\xe1s seguro?",text:`Estas seguro de eliminar al rol ${t.rol}`,icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, Eliminiar",cancelButtonText:"No, cancelar!",reverseButtons:!0}).then(r=>{r.isConfirmed&&this.rolService.eliminarRol(t.id).subscribe(i=>{this.roles=this.roles.filter(m=>m!==t),n.fire("Eliminado!",`Rol ${i.body?.rol} eliminado con \xe9xito`,"success")})})}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(f))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-roles"]],decls:12,vars:3,consts:[[1,"row"],["type","button",1,"btn","btn-rounded","btn-primary",3,"routerLink"],["class","table table-hover",4,"ngIf"],[1,"table","table-hover"],["scope","col"],[1,"table-group-divider"],[4,"ngFor","ngForOf"],["type","submit",1,"btn","btn-primary",3,"routerLink"],["type","submit",1,"btn","btn-danger",3,"click"]],template:function(n,r){1&n&&(e.j41(0,"div",0)(1,"h1"),e.EFF(2,"roles.component.html"),e.k0s(),e.j41(3,"div",0)(4,"h1"),e.EFF(5,"Roles de Sistema"),e.k0s()(),e.j41(6,"div",0)(7,"div")(8,"button",1),e.EFF(9,"Nuevo Rol"),e.k0s()()(),e.j41(10,"div",0),e.DNE(11,U,19,1,"table",2),e.k0s()()),2&n&&(e.R7$(8),e.Y8G("routerLink",e.lJ4(2,R)),e.R7$(3),e.Y8G("ngIf",r.roles.length>0))},dependencies:[p.Sq,p.bT,c.Wk,p.vh]})}return o})();class w{constructor(){this.id=-1,this.rol="",this.createdAt=new Date,this.modifiedAt=new Date,this.modifiedBy="",this.createdBy=""}}function I(o,u){if(1&o){const t=e.RV6();e.j41(0,"button",5),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.crearRol())}),e.EFF(1,"Crear"),e.k0s()}}function B(o,u){if(1&o){const t=e.RV6();e.j41(0,"button",6),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.actualizarRol())}),e.EFF(1,"Actualizar"),e.k0s()}}let g=(()=>{class o{constructor(t,n,r){this.rolService=t,this.router=n,this.activateRoute=r,this.rol=new w}ngOnInit(){console.info("FormrolComponent ngOnInit()"),this.cargarRol()}cargarRol(){console.info("FormrolComponent cargarRol()"),this.activateRoute.params.subscribe(t=>{let n=t.idRol;n&&this.rolService.obtenerRol(n).subscribe(r=>{null!==r.body?this.rol=r.body:console.error("El cuerpo de la respuesta es nulo.")},r=>{this.router.navigate(["admin/rol"]),l().fire("Mensaje: ",`${r.error.mensaje}`,"warning"),console.error("Error al obtener el rol: ",r)})})}crearRol(){this.rolService.crearRol(this.rol).subscribe(t=>{null!==t.body?(this.router.navigate(["admin/rol"]),l().fire("Mensaje",`Rol: ${t.body.rol} creado con \xe9xito!`,"success")):console.error("El cuerpo de la respuesta es nulo.")},t=>{this.router.navigate(["admin/rol"]),l().fire("Mensaje",`${t.error.mensaje}`,"warning"),console.error("Error al crear el rol: ",t)})}actualizarRol(){this.rolService.actualizarRol(this.rol).subscribe(t=>{this.router.navigate(["admin/rol"]),l().fire("El Rol",`Rol ${t.body?.rol} fue modificado con \xe9xito!`,"success")})}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(f),e.rXU(c.Ix),e.rXU(c.nX))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-formrol"]],decls:9,vars:3,consts:[["elseBlock",""],[1,"form-floating","col-2"],["placeholder","Escribe el rol","type","text","id","rol","name","rol",1,"form-control",3,"ngModelChange","ngModel"],["for","rol"],["type","submit","class","btn btn-success",3,"click",4,"ngIf","ngIfElse"],["type","submit",1,"btn","btn-success",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(n,r){if(1&n){const i=e.RV6();e.j41(0,"div")(1,"form")(2,"div",1)(3,"input",2),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(r.rol.rol,s)||(r.rol.rol=s),e.Njj(s)}),e.k0s(),e.j41(4,"label",3),e.EFF(5,"Escribe el rol"),e.k0s()(),e.DNE(6,I,2,0,"button",4)(7,B,2,0,"ng-template",null,0,e.C5r),e.k0s()()}if(2&n){const i=e.sdS(8);e.R7$(3),e.R50("ngModel",r.rol.rol),e.R7$(3),e.Y8G("ngIf",!r.rol.id)("ngIfElse",i)}},dependencies:[p.bT,a.qT,a.me,a.BC,a.cb,a.vS,a.cV],encapsulation:2})}return o})(),F=(()=>{class o{constructor(t){this.http=t,this.urlEndPoint="http://localhost:8081/system/apiv1/user",this.httpHeaders=new h.Lr({"Content-Type":"application/json"}),this.httpHeadersOctetStream=new h.Lr({"Content-Type":"application/octet-stream"}),this.httpHeadersMultipart=new h.Lr({"Content-Type":"multipart/form-data"})}getUsuarios(){return this.http.get(this.urlEndPoint,{observe:"response"})}eliminarUsuario(t){return this.http.delete(`${this.urlEndPoint}/${t}`,{observe:"response"})}crearUsuario(t){return this.http.post(this.urlEndPoint,t,{headers:this.httpHeaders,observe:"response"})}crearUsuarioFormData(t){return this.http.post(this.urlEndPoint,t,{observe:"response"})}obtenerUsuario(t){return this.http.get(`${this.urlEndPoint}/${t}`,{observe:"response"})}actualizarUsuario(t){return this.http.put(`${this.urlEndPoint}/${t.id}`,t,{headers:this.httpHeaders,observe:"response"})}actualizarUsuarioFormData(t){return this.http.put(`${this.urlEndPoint}`,t,{observe:"response"})}static#e=this.\u0275fac=function(n){return new(n||o)(e.KVO(h.Qq))};static#t=this.\u0275prov=e.jDH({token:o,factory:o.\u0275fac,providedIn:"root"})}return o})();const S=()=>["/admin/user/form"],T=o=>["/admin/user/form",o];function D(o,u){1&o&&(e.j41(0,"th"),e.EFF(1,"Activo"),e.k0s())}function N(o,u){1&o&&(e.j41(0,"th"),e.EFF(1,"Bloqueado"),e.k0s())}function x(o,u){if(1&o){const t=e.RV6();e.j41(0,"tr")(1,"th"),e.EFF(2),e.k0s(),e.j41(3,"th"),e.EFF(4),e.k0s(),e.j41(5,"th"),e.EFF(6),e.k0s(),e.j41(7,"th"),e.EFF(8),e.k0s(),e.j41(9,"th"),e.EFF(10),e.k0s(),e.DNE(11,D,2,0,"th",8)(12,N,2,0,"ng-template",null,0,e.C5r),e.j41(14,"th"),e.EFF(15),e.nI1(16,"date"),e.k0s(),e.j41(17,"th"),e.EFF(18),e.nI1(19,"date"),e.k0s(),e.j41(20,"th")(21,"button",9),e.EFF(22,"Editar"),e.k0s()(),e.j41(23,"th")(24,"button",10),e.bIt("click",function(){const r=e.eBV(t).$implicit,i=e.XpG(2);return e.Njj(i.eliminarUsuario(r))}),e.EFF(25,"Eliminar"),e.k0s()()()}if(2&o){const t=u.$implicit,n=e.sdS(13);e.R7$(2),e.JRh(t.username),e.R7$(2),e.JRh(t.nombres),e.R7$(2),e.JRh(t.apellidoPaterno),e.R7$(2),e.JRh(t.apellidoMaterno),e.R7$(2),e.JRh(t.email),e.R7$(),e.Y8G("ngIf",t.estatus)("ngIfElse",n),e.R7$(4),e.JRh(e.i5U(16,10,t.createdAt,"dd/MM/yyyy HH:mm:ss")),e.R7$(3),e.JRh(e.i5U(19,13,t.modifiedAt,"dd/MM/yyyy HH:mm:ss")),e.R7$(3),e.Y8G("routerLink",e.eq3(16,T,t.id))}}function V(o,u){if(1&o&&(e.j41(0,"table",4)(1,"thead")(2,"tr")(3,"th",5),e.EFF(4,"Username"),e.k0s(),e.j41(5,"th",5),e.EFF(6,"Nombres"),e.k0s(),e.j41(7,"th",5),e.EFF(8,"Apellido Paterno"),e.k0s(),e.j41(9,"th",5),e.EFF(10,"Apellido Materno"),e.k0s(),e.j41(11,"th",5),e.EFF(12,"Email"),e.k0s(),e.j41(13,"th",5),e.EFF(14,"Estatus"),e.k0s(),e.j41(15,"th",5),e.EFF(16,"Creado"),e.k0s(),e.j41(17,"th",5),e.EFF(18,"Modificado"),e.k0s(),e.j41(19,"th",5),e.EFF(20,"Acciones"),e.k0s(),e.j41(21,"th",5),e.EFF(22,"Acciones"),e.k0s()()(),e.j41(23,"tbody",6),e.DNE(24,x,26,18,"tr",7),e.k0s()()),2&o){const t=e.XpG();e.R7$(24),e.Y8G("ngForOf",t.usuarios)}}let P=(()=>{class o{constructor(t){this.usuarioService=t,this.usuarios=[]}ngOnInit(){console.info("UsersComponent ngOnInit()"),this.usuarioService.getUsuarios().subscribe(t=>{null!==t.body?this.usuarios=t.body:console.error("El cuerpo de la respuesta es nulo.")},t=>{l().fire("Mensaje: ",`${t.error.mensaje}`,"warning"),console.error("Error al obtener los usuarios: ",t)})}eliminarUsuario(t){const n=l().mixin({customClass:{confirmButton:"btn btn-success",cancelButton:"btn btn-danger"},buttonsStyling:!1});n.fire({title:"\xbfEst\xe1s seguro?",text:`Estas seguro de eliminar al usuario ${t.email}`,icon:"warning",showCancelButton:!0,confirmButtonText:"S\xed, Eliminiar",cancelButtonText:"No, cancelar!",reverseButtons:!0}).then(r=>{r.isConfirmed&&this.usuarioService.eliminarUsuario(t.id).subscribe(i=>{this.usuarios=this.usuarios.filter(m=>m!=t),n.fire("Eliminado!",`Usuario ${i.body?.email} eliminado con \xe9xito`,"success")})})}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(F))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-users"]],decls:10,vars:3,consts:[["elseBlock",""],[1,"row"],["type","button",1,"btn","btn-rounded","btn-primary",3,"routerLink"],["class","table table-hover",4,"ngIf"],[1,"table","table-hover"],["scope","col"],[1,"table-group-divider"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["type","submit",1,"btn","btn-primary",3,"routerLink"],["type","submit",1,"btn","btn-danger",3,"click"]],template:function(n,r){1&n&&(e.j41(0,"div",1)(1,"div",1)(2,"h1"),e.EFF(3,"Usuarios de Sistema"),e.k0s()(),e.j41(4,"div",1)(5,"div")(6,"button",2),e.EFF(7,"Nuevo Usuario"),e.k0s()()(),e.j41(8,"div",1),e.DNE(9,V,25,1,"table",3),e.k0s()()),2&n&&(e.R7$(6),e.Y8G("routerLink",e.lJ4(2,S)),e.R7$(3),e.Y8G("ngIf",r.usuarios.length>0))},dependencies:[p.Sq,p.bT,c.Wk,p.vh]})}return o})();class A{constructor(){this.id=0,this.username="",this.password="",this.nombres="",this.apellidoPaterno="",this.apellidoMaterno="",this.email="",this.estatus=!0,this.estatusBloqueo=!0,this.createdAt=new Date,this.modifiedAt=new Date,this.roles=[]}}function H(o,u){if(1&o&&(e.j41(0,"option",25),e.EFF(1),e.k0s()),2&o){const t=u.$implicit;e.Y8G("value",t.id),e.R7$(),e.JRh(t.rol)}}function O(o,u){if(1&o){const t=e.RV6();e.j41(0,"select",23),e.bIt("change",function(r){e.eBV(t);const i=e.XpG();return e.Njj(i.onSelectChange(r))}),e.DNE(1,H,2,2,"option",24),e.k0s()}if(2&o){const t=e.XpG();e.R7$(),e.Y8G("ngForOf",t.roles)}}function G(o,u){if(1&o){const t=e.RV6();e.j41(0,"button",26),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.crearUsuarioFormData())}),e.EFF(1,"Crear"),e.k0s()}}function J(o,u){if(1&o){const t=e.RV6();e.j41(0,"button",27),e.bIt("click",function(){e.eBV(t);const r=e.XpG();return e.Njj(r.actualizarUsuarioFormData())}),e.EFF(1,"Actualizar"),e.k0s()}}let _=(()=>{class o{constructor(t,n,r,i){this.usuarioService=t,this.rolService=n,this.router=r,this.activateRoute=i,this.usuario=new A,this.imagen=new File([],""),this.roles=[],this.rolesSeleccionados=[],this.opcionesSeleccionadas=[]}ngOnInit(){console.info("FormusuarioComponent ngOnInit()"),this.rolService.getRoles().subscribe(t=>{null!==t.body?this.roles=t.body:console.error("El cuerpo de la respuesta es nulo.")},t=>{l().fire("Mensaje: ",`${t.error.mensaje}`,"warning"),console.error("Error al obtener el usuario: ",t)}),this.cargarUsuario()}onSelectChange(t){const n=Array.from(t.target.selectedOptions,r=>r.value);this.usuario.roles=this.roles.filter(r=>n.includes(r.id.toString()))}handleFileInput(t){this.imagen=t.target.files[0]}cargarUsuario(){console.info("FormusuarioComponent cargarUsuario()"),this.activateRoute.params.subscribe(t=>{let n=t.idUser;n&&this.usuarioService.obtenerUsuario(n).subscribe(r=>{null!==r.body?(this.usuario=r.body,console.info(this.usuario)):console.error("El cuerpo de la respuesta es nulo.")},r=>{this.router.navigate(["/admin/user"]),l().fire("Mensaje: ",`${r.error.mensaje}`,"warning"),console.error("Error al obtener el usuario: ",r)})})}crearUsuario(){this.usuarioService.crearUsuario(this.usuario).subscribe(t=>{null!==t.body?(this.router.navigate(["/admin/user"]),l().fire("Mensaje",`Usuario: ${t.body.email} creado con \xe9xito!`,"success")):console.error("El cuerpo de la respuesta es nulo.")},t=>{this.router.navigate(["/admin/user"]),l().fire("Mensaje",`${t.error.mensaje}`,"warning"),console.error("Error al crear el usuario: ",t)})}crearUsuarioFormData(){const t=new FormData;t.set("imagen",this.imagen);const n=JSON.stringify(this.usuario,null,2);t.set("usuarioJSON",n),this.usuarioService.crearUsuarioFormData(t).subscribe(r=>{null!==r.body?(this.router.navigate(["/admin/user"]),l().fire("Mensaje",`Usuario: ${r.body.email} creado con \xe9xito!`,"success")):console.error("El cuerpo de la respuesta es nulo.")},r=>{this.router.navigate(["/admin/user"]),l().fire("Mensaje",`${r.error.mensaje}`,"warning"),console.error("Error al crear el usuario: ",r)})}actualizarUsuario(){this.usuarioService.actualizarUsuario(this.usuario).subscribe(t=>{this.router.navigate(["/admin/user"]),l().fire("El Usuario",`El Usuario ${t.body?.email} fue modificado con \xe9xito!`,"success")})}actualizarUsuarioFormData(){const t=new FormData;t.set("imagen",this.imagen);const n=JSON.stringify(this.usuario,null,2);t.set("usuarioJSON",n),this.usuarioService.actualizarUsuarioFormData(t).subscribe(r=>{null!==r.body?(this.router.navigate(["/admin/user"]),l().fire("El Usuario",`El Usuario ${r.body?.email} fue modificado con \xe9xito!`,"success")):console.error("El cuerpo de la respuesta es nulo.")},r=>{this.router.navigate(["/admin/user"]),l().fire("Mensaje",`${r.error.mensaje}`,"warning"),console.error("Error al crear el usuario: ",r)})}static#e=this.\u0275fac=function(n){return new(n||o)(e.rXU(F),e.rXU(f),e.rXU(c.Ix),e.rXU(c.nX))};static#t=this.\u0275cmp=e.VBU({type:o,selectors:[["app-formusuario"]],decls:38,vars:9,consts:[["formulario","ngForm"],["elseBlock",""],[1,"row"],[1,"col"],[1,"form-floating"],["placeholder","Username","type","text","id","username","name","username",1,"form-control",3,"ngModelChange","ngModel"],["for","username"],["placeholder","Password","type","password","id","password","name","password",1,"form-control",3,"ngModelChange","ngModel"],["for","password"],["placeholder","Nombres","type","text","id","nombres","name","nombres",1,"form-control",3,"ngModelChange","ngModel"],["for","nombres"],["placeholder","Apellido Paterno","type","text","id","apellidoPaterno","name","apellidoPaterno",1,"form-control",3,"ngModelChange","ngModel"],["for","apellidoPaterno"],["placeholder","Apellido Materno","type","text","id","apellidoMaterno","name","apellidoMaterno",1,"form-control",3,"ngModelChange","ngModel"],["for","apellidoMaterno"],["placeholder","Email","type","text","id","email","name","email",1,"form-control",3,"ngModelChange","ngModel"],["for","email"],[1,"mb-3"],["for","formFile",1,"form-label"],["type","file","id","imagen","name","imagen",1,"form-control",3,"change"],[1,""],["class","form-select","multiple","","aria-label","Multiple select example",3,"change",4,"ngIf"],["type","submit","class","btn btn-success",3,"click",4,"ngIf","ngIfElse"],["multiple","","aria-label","Multiple select example",1,"form-select",3,"change"],[3,"value",4,"ngFor","ngForOf"],[3,"value"],["type","submit",1,"btn","btn-success",3,"click"],["type","submit",1,"btn","btn-primary",3,"click"]],template:function(n,r){if(1&n){const i=e.RV6();e.j41(0,"form",null,0)(2,"div",2)(3,"div",3)(4,"div",4)(5,"input",5),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(r.usuario.username,s)||(r.usuario.username=s),e.Njj(s)}),e.k0s(),e.j41(6,"label",6),e.EFF(7,"Username"),e.k0s()(),e.j41(8,"div",4)(9,"input",7),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(r.usuario.password,s)||(r.usuario.password=s),e.Njj(s)}),e.k0s(),e.j41(10,"label",8),e.EFF(11,"Password"),e.k0s()(),e.j41(12,"div",4)(13,"input",9),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(r.usuario.nombres,s)||(r.usuario.nombres=s),e.Njj(s)}),e.k0s(),e.j41(14,"label",10),e.EFF(15,"Nombres"),e.k0s()(),e.j41(16,"div",4)(17,"input",11),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(r.usuario.apellidoPaterno,s)||(r.usuario.apellidoPaterno=s),e.Njj(s)}),e.k0s(),e.j41(18,"label",12),e.EFF(19,"Apellido Paterno"),e.k0s()(),e.j41(20,"div",4)(21,"input",13),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(r.usuario.apellidoMaterno,s)||(r.usuario.apellidoMaterno=s),e.Njj(s)}),e.k0s(),e.j41(22,"label",14),e.EFF(23,"Apellido Materno"),e.k0s()(),e.j41(24,"div",4)(25,"input",15),e.mxI("ngModelChange",function(s){return e.eBV(i),e.DH7(r.usuario.email,s)||(r.usuario.email=s),e.Njj(s)}),e.k0s(),e.j41(26,"label",16),e.EFF(27,"Email"),e.k0s()(),e.j41(28,"div",17)(29,"label",18),e.EFF(30,"Default file input example"),e.k0s(),e.j41(31,"input",19),e.bIt("change",function(s){return e.eBV(i),e.Njj(r.handleFileInput(s))}),e.k0s()()(),e.j41(32,"div",3)(33,"div",20),e.DNE(34,O,2,1,"select",21),e.k0s()(),e.DNE(35,G,2,0,"button",22)(36,J,2,0,"ng-template",null,1,e.C5r),e.k0s()()}if(2&n){const i=e.sdS(37);e.R7$(5),e.R50("ngModel",r.usuario.username),e.R7$(4),e.R50("ngModel",r.usuario.password),e.R7$(4),e.R50("ngModel",r.usuario.nombres),e.R7$(4),e.R50("ngModel",r.usuario.apellidoPaterno),e.R7$(4),e.R50("ngModel",r.usuario.apellidoMaterno),e.R7$(4),e.R50("ngModel",r.usuario.email),e.R7$(9),e.Y8G("ngIf",r.roles.length>0),e.R7$(),e.Y8G("ngIf",!r.usuario.id)("ngIfElse",i)}},dependencies:[p.Sq,p.bT,a.qT,a.xH,a.y7,a.me,a.BC,a.cb,a.vS,a.cV],encapsulation:2})}return o})();const X=[{path:"admin",component:v,children:[{path:"rol",component:$},{path:"rol/form",component:g},{path:"rol/form/:idRol",component:g},{path:"user",component:P},{path:"user/form",component:_},{path:"user/form/:idUser",component:_}]}];let L=(()=>{class o{static#e=this.\u0275fac=function(n){return new(n||o)};static#t=this.\u0275mod=e.$C({type:o});static#o=this.\u0275inj=e.G2t({imports:[p.MD,c.iI.forChild(X),a.YN,c.iI]})}return o})()}}]);